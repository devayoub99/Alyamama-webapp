"use client";

import React, { useEffect, useState } from "react";

const AnimatedCurlyArrow: React.FC<{ className?: string }> = ({
  className = "",
}) => {
  const [isVisible, setIsVisible] = useState(false);

  useEffect(() => {
    // Trigger animation on mount
    setIsVisible(true);
  }, []);

  return (
    <div className={className}>
      <svg
        width="300"
        height="300"
        viewBox="0 0 300 300"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="w-full h-auto"
      >
        <style>
          {`
            .arrow-path {
              opacity: 0;
              animation: ${
                isVisible ? "drawAndFade 3.5s ease-in-out infinite" : "none"
              };
            }
            
            .arrow-path:nth-child(2) { animation-delay: 0s; }
            .arrow-path:nth-child(3) { animation-delay: 0.1s; }
            .arrow-path:nth-child(4) { animation-delay: 0.2s; }
            .arrow-path:nth-child(5) { animation-delay: 0.3s; }
            .arrow-path:nth-child(6) { animation-delay: 0.4s; }
            .arrow-path:nth-child(7) { animation-delay: 0.5s; }
            .arrow-path:nth-child(8) { animation-delay: 0.6s; }
            .arrow-path:nth-child(9) { animation-delay: 0.7s; }
            .arrow-path:nth-child(10) { animation-delay: 0.8s; }
            .arrow-path:nth-child(11) { animation-delay: 0.9s; }
            .arrow-path:nth-child(12) { animation-delay: 1s; }
            .arrow-path:nth-child(13) { animation-delay: 1.1s; }
            .arrow-path:nth-child(14) { animation-delay: 1.2s;}
            .arrow-path:nth-child(15) { animation-delay: 1.2s; }
            
            @keyframes drawAndFade {
              0%, 5% {
                opacity: 0;
              }
              10%, 60% {
                opacity: 1;
              }
              65%, 100% {
                opacity: 0;
              }
            }
          `}
        </style>

        <path
          className="arrow-path"
          d="M280.952 219.667C279.364 226.905 281.181 234.532 276.148 240.79C274.873 242.058 277.004 243.713 278.281 242.445C285.333 236.064 287.489 227.005 284.961 218.827C284.889 217.642 281.518 217.847 280.952 219.667Z"
          fill="black"
        />
        <path
          className="arrow-path"
          d="M287.848 166.278C282.925 174.315 285.032 186.686 286.921 195.497C287.066 197.869 291.11 197.622 291.641 195.21C292.025 190.425 291.7 185.088 292.76 180.263C293.18 176.071 294.949 171.797 294.696 167.647C293.806 164.13 289.05 163.826 287.848 166.278Z"
          fill="black"
        />
        <path
          className="arrow-path"
          d="M260.05 120.956C262.362 125.576 265.913 128.336 269.535 132.281C273.835 136.185 276.784 140.17 279.768 144.75C281.262 147.04 285.871 144.974 285.053 142.643C283.414 137.982 280.502 134.588 277.554 130.602C273.893 126.064 270.233 121.525 265.262 117.663C263.132 116.008 258.52 118.074 260.05 120.956Z"
          fill="black"
        />
        <path
          className="arrow-path"
          d="M208.647 99.0928C205.986 99.8501 206.203 103.408 208.936 103.836C216.458 105.163 223.31 106.531 229.629 110.312C231.723 111.375 233.637 109.473 232.18 107.776C225.752 102.216 218.687 97.2915 208.647 99.0928Z"
          fill="black"
        />
        <path
          className="arrow-path"
          d="M152.057 103.138C149.469 105.081 151.708 108.515 154.369 107.758C162.988 104.853 172.389 103.684 181.117 102.557C183.813 102.393 183.56 98.2421 180.864 98.4065C171.354 97.7948 160.496 97.2673 152.057 103.138Z"
          fill="black"
        />
        <path
          className="arrow-path"
          d="M97.2254 124.928C94.6373 126.872 98.1886 129.631 100.813 128.281C110.034 124.148 118.472 118.277 127.657 113.551C129.643 112.835 128.114 109.953 126.128 110.669C115.486 113.698 104.917 117.914 97.2254 124.928Z"
          fill="black"
        />
        <path
          className="arrow-path"
          d="M82.0709 153.825C76.3291 159.531 68.1798 170.145 72.0564 178.24C72.875 180.571 76.9198 180.324 77.4493 177.912C78.5807 174.272 77.6898 170.755 78.8212 167.115C79.9526 163.475 82.4323 159.753 85.6222 156.583C86.862 154.722 84.0199 152.515 82.0709 153.825Z"
          fill="black"
        />
        <path
          className="arrow-path"
          d="M81.2289 195.536C81.5542 200.872 83.1915 205.534 88.1272 208.804C92.3527 211.522 101.405 215.731 106.618 212.438C109.242 211.088 108.387 208.164 106.256 206.508C104.162 205.446 102.813 205.528 100.791 205.651C98.7686 205.774 96.036 205.346 93.9414 204.283C89.7882 202.751 84.8525 199.481 83.9254 195.371C83.8182 193.593 81.1206 193.758 81.2289 195.536Z"
          fill="black"
        />
        <path
          className="arrow-path"
          d="M149.942 179.445C145.404 182.697 142.322 187.646 138.458 190.858C133.956 194.703 128.708 197.403 123.459 200.104C120.835 201.454 123.074 204.888 125.735 204.131C136.376 201.102 152.121 193 154.877 182.715C155.407 180.302 151.892 178.137 149.942 179.445Z"
          fill="black"
        />
        <path
          className="arrow-path"
          d="M177.35 129.567C174.943 134.475 174.558 139.26 172.86 144.72C171.272 151.959 167.588 158.135 162.521 163.8C159.969 166.336 164.23 169.648 166.782 167.112C176.388 158.194 184.248 142.836 183.489 130.384C183.344 128.013 178.554 127.113 177.35 129.567Z"
          fill="black"
        />
        <path
          className="arrow-path"
          d="M129.22 83.6996C132.772 86.4589 137.527 86.7643 141.644 87.7036C147.145 89.1538 153.357 91.1558 158.256 93.8339C161.097 96.0403 164.925 92.2361 162.084 90.0287C157.823 86.7175 152.923 84.0414 148.06 81.9563C143.196 79.8711 136.949 77.2771 131.592 78.1988C128.931 78.9551 127.09 82.0441 129.22 83.6996Z"
          fill="black"
        />
        <path
          className="arrow-path"
          d="M79.7441 71.2403C87.6292 78.4966 103.279 79.9234 114.028 78.6731C117.399 78.4677 117.146 74.3171 113.739 73.9295C108.984 73.6252 103.519 72.767 98.7279 71.8687C93.2265 70.4186 88.2908 67.1485 82.8256 66.2913C79.455 66.4967 77.6122 69.5858 79.7441 71.2403Z"
          fill="black"
        />
        <path
          className="arrow-path"
          d="M42.5699 49.7001C42.1126 53.2989 45.664 56.0582 47.8309 58.3077C50.7081 61.108 54.8613 62.6403 58.3042 63.6208C61.747 64.6013 64.1905 60.2853 60.7477 59.3058C57.9428 57.6913 55.1739 56.6688 52.333 54.4624C50.166 52.2139 49.2751 48.6973 45.8321 47.7158C45.1219 47.165 43.1356 47.8802 42.5699 49.7001Z"
          fill="black"
        />
        <path
          className="arrow-path arrow-end"
          d="M25.0413 17.4412C18.3724 19.0379 11.0655 21.2687 4.46881 24.0514C2.48258 24.7676 0.568636 26.6697 0.677053 28.4485C2.07396 40.2663 6.76919 50.6928 14.7989 60.3209C17.7122 63.7142 23.5986 60.3788 21.3233 56.3524C15.4244 48.3798 12.2219 40.242 11.6798 31.3488C16.3264 29.8753 20.973 28.4018 25.6196 26.9283C30.9402 25.4127 36.3694 25.678 40.2334 22.4667C42.8215 20.5235 41.2925 17.641 39.1979 16.5784C34.9724 13.8592 29.0127 16.0088 25.0413 17.4412Z"
          fill="black"
        />
      </svg>
    </div>
  );
};

export default AnimatedCurlyArrow;
